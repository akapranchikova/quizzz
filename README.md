# Quizzz ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞-–≤–∏–∫—Ç–æ—Ä–∏–Ω–∞

–ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ –≤ –¥—É—Ö–µ ¬´–ó–Ω–∞–Ω–∏–µ ‚Äî —Å–∏–ª–∞¬ª: –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π —ç–∫—Ä–∞–Ω (/screen), –ø—É–ª—å—Ç—ã –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö (/controller) –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (/admin). –°–µ—Ä–≤–µ—Ä –¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å, –æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Socket.IO.

## –°—Ç–µ–∫
- Backend: Node.js + Express + Socket.IO, hot-reload –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ chokidar.
- Frontend: Vite + React + TypeScript, —Ç—Ä–∏ –º–∞—Ä—à—Ä—É—Ç–∞: `/screen`, `/controller`, `/admin`.
- –î–∞–Ω–Ω—ã–µ: JSON –≤ `data/questions.json` –∏ `data/characters.json`.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```bash
npm install        # —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ root + server + client (npm workspaces)
npm run dev        # –∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä (5174) –∏ –∫–ª–∏–µ–Ω—Ç (5173) –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `PORT` ‚Äî –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5174).
- `WRONG_PENALTY` ‚Äî —à—Ç—Ä–∞—Ñ –∑–∞ –Ω–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0).
- `VITE_SOCKET_URL` ‚Äî URL —Å–æ–∫–µ—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:5174`).

–°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç `0.0.0.0`, —á—Ç–æ–±—ã —Ç–µ–ª–µ—Ñ–æ–Ω—ã –∏–∑ –æ–¥–Ω–æ–π LAN –º–æ–≥–ª–∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –ø–æ IP.

## –°—Ç—Ä–∞–Ω–∏—Ü—ã
- `http://<host>:5173/screen` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω/–≤–µ–¥—É—â–∏–π —Å QR-–∫–æ–¥–æ–º –Ω–∞ –ø—É–ª—å—Ç.
- `http://<host>:5173/controller` ‚Äî –ø—É–ª—å—Ç –∏–≥—Ä–æ–∫–∞: –≤—Ö–æ–¥, –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å, –æ—Ç–≤–µ—Ç—ã, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.
- `http://<host>:5173/admin` ‚Äî –∞–¥–º–∏–Ω–∫–∞: —Å—Ç–∞—Ä—Ç, –≤—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –ø–æ–∫–∞–∑ –æ—Ç–≤–µ—Ç–∞, —Å–±—Ä–æ—Å, reload JSON.

## –ì–µ–π–º–ø–ª–µ–π –∏ —Å–æ–∫–µ—Ç-—Å–æ–±—ã—Ç–∏—è
–°—Ç–∞–¥–∏–∏: `lobby ‚Üí category_pick ‚Üí question ‚Üí reveal ‚Üí category_pick ‚Üí ‚Ä¶ ‚Üí game_end`.

–ì–ª–∞–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è Socket.IO:
- `player:join { nickname, characterId }`
- `player:ready {true|false}`
- `player:answer { optionId }` (—Å–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç `answerTimeMs`)
- `player:useAbility { abilityId, targetPlayerId? }`
- `admin:startGame`, `admin:pickCategory { categoryId }`, `admin:next`, `admin:reset`, `admin:reloadData`
- `server:state` ‚Äî –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã (–≤–æ–ø—Ä–æ—Å, —Ç–∞–π–º–µ—Ä, –æ—Ç–≤–µ—Ç—ã, –∏–≥—Ä–æ–∫–∏, –ª–∏–¥–µ—Ä–±–æ—Ä–¥)
- `server:question` ‚Äî –Ω–∞—á–∞–ª–æ –≤–æ–ø—Ä–æ—Å–∞

–û—á–∫–∏: 1000 –±–∞–∑–æ–≤—ã—Ö –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç * –ª–∏–Ω–µ–π–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ (1.0 ‚Üí 0.2). –®—Ç—Ä–∞—Ñ –∑–∞ –æ—à–∏–±–∫—É –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `WRONG_PENALTY`.

## –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `data/characters.json`. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
- `50/50` (spark) ‚Äî —É–±–∏—Ä–∞–µ—Ç –¥–≤–∞ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞ —É –∏–≥—Ä–æ–∫–∞.
- `–ü–µ—Ä–µ–º–µ—à–∞—Ç—å –∫–Ω–æ–ø–∫–∏` (glitch) ‚Äî –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ —É –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.
- `–ó–∞–º–æ—Ä–æ–∑–∫–∞` (frost) ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞ —É —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ –Ω–∞ 3 —Å–µ–∫—É–Ω–¥—ã.
- `–©–∏—Ç` (shieldy) ‚Äî –ø–∞—Å—Å–∏–≤–Ω–æ –≥–∞—Å–∏—Ç –ø–µ—Ä–≤—É—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –ø–∞–∫–æ—Å—Ç—å.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (TODO –¥–ª—è –±—É–¥—É—â–∏—Ö –ø–∞–∫–æ—Å—Ç–µ–π/–±–æ–Ω—É—Å–æ–≤).

## –†–∞–±–æ—Ç–∞ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
- JSON-—Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞.
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `data/questions.json` –∏–ª–∏ `data/characters.json` —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (chokidar) –∏ –ø—É—à–∏—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- –í –∞–¥–º–∏–Ω–∫–µ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ ¬´Reload data¬ª –¥–ª—è —Ä—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.

### –§–æ—Ä–º–∞—Ç
`data/questions.json`
```json
{
  "categories": [{ "id": "music", "title": "–ú—É–∑—ã–∫–∞", "icon": "üéµ" }],
  "questions": [
    {
      "id": "q_music_1",
      "categoryId": "music",
      "text": "–ö–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–±—ã—á–Ω–æ –∏–º–µ–µ—Ç 6 —Å—Ç—Ä—É–Ω?",
      "options": [{ "id": "a", "text": "–°–∫—Ä–∏–ø–∫–∞" }, { "id": "b", "text": "–ì–∏—Ç–∞—Ä–∞" }],
      "correctOptionId": "b",
      "timeLimitSec": 15
    }
  ]
}
```

`data/characters.json`
```json
{
  "characters": [
    { "id": "spark", "name": "–ò—Å–∫—Ä–∞", "ability": { "id": "fifty", "name": "50/50", "description": "–£–±–∏—Ä–∞–µ—Ç 2 –Ω–µ–≤–µ—Ä–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞", "usesPerGame": 1 } }
  ]
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
.
‚îú‚îÄ‚îÄ client/            # Vite + React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ server/            # Express + Socket.IO —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ data/              # JSON —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏
‚îî‚îÄ‚îÄ package.json       # –∫–æ—Ä–Ω–µ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã, workspaces
```

## Dev –∑–∞–º–µ—Ç–∫–∏
- –¢–∞–π–º–µ—Ä, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –ª–∏–¥–µ—Ä—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–ª–∏–µ–Ω—Ç—ã —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç `server:state`.
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏; –∫–Ω–æ–ø–∫–∞ Reset –≤ –∞–¥–º–∏–Ω–∫–µ –æ–±–Ω—É–ª—è–µ—Ç —Å—á—ë—Ç—á–∏–∫–∏, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–≥—Ä–æ–∫–æ–≤ –≤ –ª–æ–±–±–∏.
- –°–µ—Ä–≤–µ—Ä —É–¥–∞–ª—è–µ—Ç –∏–≥—Ä–æ–∫–∞ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–æ–∫–µ—Ç–∞.
